<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dataVisualized.css')}}">
    <title>캡스톤 디자인</title>
</head>
<body>

  <div class="header">
        <h1>정보보호학과 캡스톤디자인</h1>
        <timer>
            <script>
                function printTime() {
                    var clock = document.getElementById("clock"); // 출력할 장소 선택
                    var now = new Date(); // 현재시간
                    var nowTime = now.getFullYear() + "년&nbsp;" + (now.getMonth() + 1) + "월&nbsp;" + now.getDate() + "일&nbsp;" + now.getHours() + "시&nbsp;" + now.getMinutes() + "분&nbsp;" + now.getSeconds() + "초";

                    clock.innerHTML = nowTime; // 현재시간을 출력
                    setTimeout("printTime()", 1000); // setTimeout(“실행할함수”,시간) 시간은1초의 경우 1000
                }
                window.onload = function() { // 페이지가 로딩되면 실행
                    printTime();
                }
            </script>

            <body>
                <span id="clock"></span> <br/>
            </body>
        </timer>
    </div>

    <div class="topnav">
        <a href="./">Main</a>
        <a href="./dataCollecting?flag=true">Data Collecting</a>
        <a href="./dataVisual">Data Visual</a>
        <a href="./dataLearned">Create Model</a>
    </div>

    <h3> 사용량 시각화 </h3>

<section class="zeroToOne">
    <article>
        <canvas id="myChart0"></canvas>
    </article>

    <article>
        <canvas id="myChart1"></canvas>
    </article>
</section>
<br>
  <section class="OneToTwo">
    <article>
        <canvas id="myChart2"></canvas>
    </article>

    <article>
        <canvas id="myChart3"></canvas>
    </article>

</section>
<br>
  <section class="OneToTwo">
    <article>
        <canvas id="myChart4"></canvas>
    </article>

    <article>
        <canvas id="myChart5"></canvas>
    </article>

</section>


</body>

    <script>
    {% for item in range(0,6) %}

    var labelsData = {{ graph_[item][0] }};
    var dataset = {{ graph_[item][1] }};

    {% if item == 0 %}
    var label_text =" 0분 대 사용량";
    {% else %}
    var label_text ={{ item|string }} +"0분 대 사용량";
    {% endif %}

    param_value = 'myChart' + {{item|string}};

var ctx = document.getElementById(param_value);
console.log(ctx);
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: labelsData,
        datasets: [{
            label: label_text,
            data: dataset,
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                      min: 55,
                      max: 80,
                      stepSize: 5,
                      fontSize: 12,
                      fontColor: 'rgb(0, 0 0, 0.6)'
                }
            }]
        }
    }
});

    {% endfor %}
    </script>


</html>